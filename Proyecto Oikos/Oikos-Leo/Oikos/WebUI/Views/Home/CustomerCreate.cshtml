@using WebUI.Models.Helpers
<script src="~/Scripts/Views/CrudCustomer.js"></script>
<script src="~/Scripts/Views/mapsUserLocation.js"></script>
<script src="https://widget.cloudinary.com/v2.0/global/all.js" type="text/javascript"></script>


@{
    ViewBag.Title = "CreateCustomer";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


    <!-- Breadcrumb Area -->
    <div class="breadcrumb-area bg-grey">
        <div class="container">
            <div class="ho-breadcrumb">
                <ul>
                    <li>@Html.ActionLink("Inicio", "index")</li>
                    <li>Creación de usuario</li>
                </ul>
            </div>
        </div>
    </div>
    <label id="whoAmI" class="d-none">create</label>
    <!--// Breadcrumb Area -->



    <div id="wrapper" class="container wrapper">
        <div class="row">
            <div class="col-12 my-account-area ptb-30">
                <h2>Crear Cliente</h2>
                <div class="tab-content myaccount-tab-content" id="account-page-tab-content">
                    <div class="myaccount-details">
                        <form action="#" class="ho-form" style="margin-bottom: 20px">
                            <div class="ho-form-inner" id="frmCustomer">
                                <div class="single-input">
                                    <h3>Información de cliente</h3>
                                </div>
                                @*Recuadro de Foto del cliente*@
                                <div id="divImgProduct1" class="col-md-2 col-sm-12 uploadedImage">
                                    <img id="imgCustomerPlaceHolder" src="" alt="Foto personal">
                                </div>

                                @*Boton de subir foto del cliente*@                               
                                <button id="btnCloudinary" type="button" class="mt-3 ho-button ho-button-dark" onclick="showUploadWidgetPhoto(false)">
                                    <span>
                                        Subir foto de perfil
                                    </span>
                                </button>
                                @*Recuadro de Foto del ID*@
                                <div id="divImgProduct1" class="col-md-2 col-sm-12 uploadedImage">
                                    <img id="imgId" src="" alt="Foto de identificación">
                                </div>

                                @*Boton de Foto del ID*@
                                <button id="btnCloudinary" type="button" class="mt-3 ho-button ho-button-dark" onclick="showUploadWidgetId(false)">
                                    <span>
                                        Subir foto de identificación
                                    </span>
                                </button>                             
                                @Html.CtrlInput(divSize: "d-none", id: "txtCustomerPhoto", type: "type=\"text\" disabled", format: "", label: "", placeHolder: "", columnDataName: "")
                                @Html.CtrlInput(divSize: "d-none", id: "txtIdPic", type: "type=\"text\" disabled", format: "", label: "", placeHolder: "", columnDataName: "")
                            </div>
                        </form>
                        
                        
                        <form action="#" class="ho-form" style="margin-bottom: 20px">
                            <div class="single-input">
                                <h4>Datos de contacto</h4>
                                <div class="ho-form-inner" id="frmUserContact">
                                    @*ContactTypeCode*@

                                    @Html.CtrlDropDown2(id: "drpContactType", label: "Tipo de contacto*", listId: "contactcode", style: "single-input single-input-half", columnDataName: "ContactTypeCode")


                                    @*ContactValue*@
                                    @Html.CtrlInput(divSize: "single-input single-input-half", id: "txtContactValue", type: "type=\"text\"", format: "", label: "Valor", placeHolder: "", columnDataName: "ContactValue")

                                </div>
                            </div>
                        </form>
                        <form action="#" class="ho-form">

                            <div class="ho-form" id="frmUserLocation">
                                <h4>Dirección de entrega</h4>
                                <div>
                                    <label for="sltProvince">Provincia *</label>
                                    <select id="sltProvince" required>
                                        <option value="">Seleccione una provincia</option>
                                    </select>
                                </div>
                                <div class="single-input">
                                    @Html.CtrlTextArea(divSize: "single-input", id: "txtAddress", type: "type=\"text\"", format: "", label: "Dirección exacta", placeHolder: "Dirección de entrega exacta", columnDataName: "Address")
                                </div>
                                @Html.CtrlInput(divSize: "d-none", id: "txtLng", type: "type=\"text\" disabled", format: "", label: "", placeHolder: "", columnDataName: "Longitude")
                                @Html.CtrlInput(divSize: "d-none", id: "txtLat", type: "type=\"text\" disabled", format: "", label: "", placeHolder: "", columnDataName: "Latitude")
                                <!-- Modals trigger buttons -->
                                <div class="single-input">
                                    <button type="button" class="ho-button ho-button-dark" data-toggle="modal" data-target="#mapModal" style="margin-top: 15px">
                                        <span>
                                            Seleccionar ubicación exacta
                                        </span>
                                    </button>
                                </div>
                            </div>
                            
                        </form>
                        
                        
                        <div class="single-input" style="margin-top: 50px">                           
                                @* Button *@
                                @Html.CtrlButton(viewName: "CrudCustomer", id: "btnCreate", style: "ho-button", label: "Registrar datos", onClickFunction: "Create")                            
                        </div>
                        <div class="modal fade" id="mapModal" tabindex="-1" role="dialog" aria-labelledby="Coordinates selector" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="modalTitle">Elegir ubicación de la bodega</h5>
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Cerrar">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">

                                        <div class="container">
                                            <div id="mapSelector"></div>
                                            <script defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCQSrrB_vyRukFOkul1HqvmyJ0GpPE1Agk&callback=initMap"></script>
                                        </div>
                                    </div>
                                    <div class="modal-footer d-inline-block">
                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
                                        <button type="button" id="btnChooseCoordinates" class="btn btn-info" data-dismiss="modal">Elegir ubicación</button>
                                        <small id="lblChosenCoordinates"></small>
                                    </div>
                                </div>
                            </div>
                        </div>
                </div>
            </div>
        </div>
    </div>
    <script src="~/Scripts/Views/cloudinaryCustomer.js"></script>
    <script src="~/Scripts/Views/Locations.js"></script>
    
    
